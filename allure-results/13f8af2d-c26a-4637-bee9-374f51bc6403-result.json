{"name": "test_login_fail", "status": "broken", "statusDetails": {"message": "playwright._impl._errors.Error: value must be a string or regular expression", "trace": "self = <test_login.TestLogin object at 0x000002897B0D4AD0>, page = <Page url='https://hocvancokimngan.com/login/'>\n\n    @allure.story(\"Login không thành công\")\n    def test_login_fail(self, page):\n        lp= LoginPage(page)\n        lp.goto().login(settings.USER_EMAIL, \"pasw\")\n>       lp.assert_login_fail(\"Thông tin tài khoản hoặc mật khẩu không đúng.\")\n\ntests\\web\\test_login.py:21: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \npages\\login_page.py:46: in assert_login_fail\n    expect(self.page).to_have_url(lambda url: \"/login\" in url)\n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \n\nitems = [<function LoginPage.assert_login_fail.<locals>.<lambda> at 0x000002897C4353A0>], match_substring = False, normalize_white_space = False, ignoreCase = None\n\n    def to_expected_text_values(\n        items: Union[\n            Sequence[Pattern[str]], Sequence[str], Sequence[Union[str, Pattern[str]]]\n        ],\n        match_substring: bool = False,\n        normalize_white_space: bool = False,\n        ignoreCase: Optional[bool] = None,\n    ) -> Sequence[ExpectedTextValue]:\n        out: List[ExpectedTextValue] = []\n        assert isinstance(items, list)\n        for item in items:\n            if isinstance(item, str):\n                o = ExpectedTextValue(\n                    string=item,\n                    matchSubstring=match_substring,\n                    normalizeWhiteSpace=normalize_white_space,\n                    ignoreCase=ignoreCase,\n                )\n                if o[\"ignoreCase\"] is None:\n                    del o[\"ignoreCase\"]\n                out.append(o)\n            elif isinstance(item, Pattern):\n                out.append(\n                    expected_regex(item, match_substring, normalize_white_space, ignoreCase)\n                )\n            else:\n>               raise Error(\"value must be a string or regular expression\")\nE               playwright._impl._errors.Error: value must be a string or regular expression\n\n.venv\\Lib\\site-packages\\playwright\\_impl\\_assertions.py:872: Error"}, "steps": [{"name": "Mở trang chủ", "status": "passed", "start": 1755785706150, "stop": 1755785707320}, {"name": "Đi tới trang Sign in", "status": "passed", "start": 1755785707320, "stop": 1755785707411}, {"name": "Nhập thông tin đăng nhập", "status": "passed", "start": 1755785707411, "stop": 1755785707508}, {"name": "Đăng nhập", "status": "passed", "start": 1755785707508, "stop": 1755785708866}, {"name": "đăng nhập không thành công", "status": "broken", "statusDetails": {"message": "playwright._impl._errors.Error: value must be a string or regular expression\n", "trace": "  File \"C:\\Users\\thanh\\PycharmProjects\\auto_python_playwright_web\\pages\\login_page.py\", line 46, in assert_login_fail\n    expect(self.page).to_have_url(lambda url: \"/login\" in url)\n  File \"C:\\Users\\thanh\\PycharmProjects\\auto_python_playwright_web\\.venv\\Lib\\site-packages\\playwright\\sync_api\\_generated.py\", line 18522, in to_have_url\n    self._sync(\n  File \"C:\\Users\\thanh\\PycharmProjects\\auto_python_playwright_web\\.venv\\Lib\\site-packages\\playwright\\_impl\\_sync_base.py\", line 115, in _sync\n    return task.result()\n           ^^^^^^^^^^^^^\n  File \"C:\\Users\\thanh\\PycharmProjects\\auto_python_playwright_web\\.venv\\Lib\\site-packages\\playwright\\_impl\\_assertions.py\", line 126, in to_have_url\n    expected_text = to_expected_text_values([urlOrRegExp], ignoreCase=ignoreCase)\n                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\thanh\\PycharmProjects\\auto_python_playwright_web\\.venv\\Lib\\site-packages\\playwright\\_impl\\_assertions.py\", line 872, in to_expected_text_values\n    raise Error(\"value must be a string or regular expression\")\n"}, "start": 1755785708866, "stop": 1755785708868}], "start": 1755785706149, "stop": 1755785708868, "uuid": "8a9c44e5-d036-48dd-ba5b-5b6441ac4c57", "historyId": "5796fb86233b5d06cf9d5ae4bf3581b2", "testCaseId": "5796fb86233b5d06cf9d5ae4bf3581b2", "fullName": "tests.web.test_login.TestLogin#test_login_fail", "labels": [{"name": "story", "value": "Login không thành công"}, {"name": "severity", "value": "critical"}, {"name": "feature", "value": "Authentication"}, {"name": "tag", "value": "smoke"}, {"name": "parentSuite", "value": "tests.web"}, {"name": "suite", "value": "test_login"}, {"name": "subSuite", "value": "TestLogin"}, {"name": "host", "value": "Thanh-PC"}, {"name": "thread", "value": "5808-MainThread"}, {"name": "framework", "value": "pytest"}, {"name": "language", "value": "cpython3"}, {"name": "package", "value": "tests.web.test_login"}]}